# もふもふアドベンチャー

AIが生成する3DオープンワールドアクションRPG。

## プロジェクト概要

本プロジェクトは、HTML, CSS, JavaScript (Three.js) を使用して開発される3DオープンワールドアクションRPGです。
「AIでこんなものが作れるの選手権」への応募作品であり、AIによるコード生成を主軸としています。

## セットアップ

特別なビルドツールは不要です。以下の手順でゲームを開始できます。

1.  このリポジトリをクローンします。
    ```bash
    git clone https://github.com/wachi-yoshitaka-11-dev/11-matsu-p.git
    ```
2.  プロジェクトのルートディレクトリで `npm start` を実行し、ローカルサーバーを起動します。
    ```bash
    npm start
    ```
    ブラウザで `http://localhost:8080` にアクセスしてください。
    （または、`public/index.html` を直接ウェブブラウザで開くことも可能です。）

## 遊び方

タイトル画面で「New Game」ボタンをクリックしてゲームを開始します。

- **移動:** WASDキー
- **カメラ操作:** マウス
- **ジャンプ:** Spaceキー
- **ダッシュ:** Shift (長押し + 移動)
- **ローリング:** Shift (短押し + 移動方向)
- **バックステップ:** Shift (短押し、移動無し)
- **弱攻撃:** マウス左クリック
- **強攻撃:** Ctrl + 左クリック
- **ガード:** マウス右クリック
- **ロックオン:** ホイールクリック
- **ロックオンターゲット切り替え:** マウスホイール (上下でターゲット切り替え)
- **アイテム切り替え:** 下矢印キー
- **アイテム使用:** Rキー
- **武器切り替え:** 右矢印キー
- **盾切り替え:** 左矢印キー
- **スキル切り替え:** 上矢印キー
- **スキル使用:** Fキー
- **NPCインタラクト:** Eキー
- **ポーズ:** Escapeキー

## 開発

## 実装済み機能

### ✅ コアゲームプレイ

- **プレイヤー操作**: 移動、ジャンプ、ダッシュ、ローリング、攻撃アクション
- **戦闘システム**: 弱攻撃・強攻撃、ガード、ロックオンシステム
- **RPG要素**: レベルアップ、経験値、ステータス割り振り
- **アイテム・装備**: 武器・盾・アイテム・スキルの切り替えと使用
- **敵キャラクター**: AI搭載の敵、ボスキャラクター

### ✅ ワールド・ステージシステム

- **ステージ管理**: データ駆動型ステージシステム
- **「始まりの地」**: 完全実装済みのチュートリアルステージ
- **動的ローディング**: ステージ切り替え時のローディング画面
- **エリア配置**: plains、ruins、field等のエリア別エンティティ配置

### ✅ UI/UX

- **HUD**: HP・FP・スタミナバー、ステージ情報表示、経験値表示
- **多言語対応**: 日本語・英語切り替え対応
- **メニューシステム**: タイトル画面、ポーズメニュー、レベルアップメニュー
- **ビジュアルフィードバック**: ステージクリア・開始メッセージ、エフェクト

### ✅ ストーリー・演出

- **シーケンスシステム**: オープニング・エンディングカットシーン
- **音響システム**: BGM、効果音の動的切り替え
- **ゲームフロー**: スプラッシュ→オープニング→ゲームプレイ→エンディング

### ✅ 開発品質

- **データ駆動設計**: JSON設定ファイルによる柔軟な調整
- **コード品質**: ESLint/Prettier適用、モジュラー設計
- **テスト**: Playwright E2Eテスト
- **国際化**: 完全多言語対応基盤

## 今後の拡張予定

以下の機能が将来的な拡張候補として検討されています：

- **追加ステージ**: 呪われた森、古城の廃墟、雪山、深淵の洞窟
- **セーブ・ロード機能**: ゲーム進捗の永続化
- **環境設定画面**: 音量、グラフィック設定
- **拡張コンテンツ**: 新しい敵、武器、スキル

### ディレクトリ構造

```
src/
├── main.js                 # ゲームエントリポイント
├── core/
│   ├── game.js            # メインゲームクラスとループ
│   ├── scene-manager.js   # Three.jsシーン管理
│   ├── stage-manager.js   # ステージ管理（データ駆動型）
│   ├── sequence-manager.js # カットシーン管理
│   └── asset-loader.js    # アセットローディングユーティリティ
├── entities/              # ゲームキャラクターとオブジェクト
│   ├── characters/        # プレイヤー、敵、NPC
│   ├── items/            # アイテム
│   ├── skills/           # スキル・プロジェクタイル
│   └── world/            # 地形・環境オブジェクト
├── world/                # 環境とワールドオブジェクト
├── controls/             # 入力処理
├── ui/                   # ユーザーインターフェース要素
│   ├── hud.js           # HUD（ステータスバー、ステージ情報）
│   ├── title-screen.js  # タイトル画面
│   ├── loading-screen.js # ローディング画面
│   └── ...              # その他UIコンポーネント
└── utils/                # 定数とユーティリティ
    ├── constants.js      # ゲーム定数
    └── localization.js   # 多言語対応
```

### 開発コマンド

```bash
# ローカル開発サーバーの起動
npm start

# テストの実行
npm test

# コード品質チェック
npm run lint
npm run format
```

### 使用技術

- **Three.js**: 3Dレンダリングライブラリ
- **HTML/CSS/JavaScript**: フロントエンド開発

## ライセンス

[MIT License](LICENSE.md)
